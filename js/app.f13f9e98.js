webpackJsonp([1],{0:function(t,e,n){t.exports=n("NHnr")},"6UQl":function(t,e,n){var o={"./article/page.vue":"c0uz","./note/page.vue":"Ho31"};function a(t){return n(i(t))}function i(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}a.keys=function(){return Object.keys(o)},a.resolve=i,t.exports=a,a.id="6UQl"},AgWz:function(t,e){},GE4O:function(t,e){},GU3l:function(t,e){},Ho31:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("FWuv"),a=n.n(o),i="notes",r={path:"/".concat(i,"/:pre/:title"),name:i,data:function(){return{masonry:""}},computed:{content:function(){return this.$store.state[i].content}},mounted:function(){this.$store.dispatch("".concat(i,"/getContent"),this.$route)},watch:{content:function(){var t=this;this.$nextTick(function(){t.masonry=new a.a(t.$el,{columnWidth:"dl",percentPosition:!0})})},$route:function(t){this.$store.dispatch("".concat(i,"/getContent"),t)}},destroyed:function(){this.masonry.destroy()}},s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.content?n("article",{staticClass:"content -note",domProps:{innerHTML:t._s(t.content)}}):n("div",{staticClass:"loading-wrap"},[n("div"),n("div")])},c=[],u=n("XyMi");function l(t){n("Qv58")}var d=!1,f=l,h=null,p=null,m=Object(u["a"])(r,s,c,d,f,h,p);e["default"]=m.exports},KgNB:function(t,e,n){var o={"./article/store.js":"lS8V","./note/store.js":"QQ0W"};function a(t){return n(i(t))}function i(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}a.keys=function(){return Object.keys(o)},a.resolve=i,t.exports=a,a.id="KgNB"},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("/5sW"),a=n("rzQm"),i=n.n(a),r=n("/ocq"),s=(n("EuXz"),function(t,e){if("router"!==e&&"store"!==e)return console.warn("expected 'router' or 'store' only");var n=[];return t.keys().forEach(function(o){var a=t(o).default;"router"===e&&n.push({path:a.path,name:a.name,component:a}),"store"===e&&(n[a.namespace]=a)}),n}),c=n("6UQl"),u=s(c,"router");o["a"].use(r["a"]);var l=new r["a"]({routes:i()(u)}),d=n("Biqn"),f=n.n(d),h=n("NYxO"),p=n("blVE"),m={isFocus:!1,author:{avatar:"/images/avatar.jpg",links:[{name:"github",link:""}]},nav:[{column:"Article",categorys:[{category:"category",items:[{title:"title",url:"/"}]}]}],title:"Title"},v={},g={toggleFocus:function(t){t.isFocus=!t.isFocus},setNav:function(t,e){t.nav=e.length?e:null},setTitle:function(t,e){t.title=e}},_={getNav:function(t){t.dispatch;var e=t.commit;t.state;p["a"].get("./api/nav.json").then(function(t){var n=t.data;console.log(n),200===n.code&&e("setNav",n.data)}).catch(function(t){console.log("网络错误")})}},y={state:m,getters:v,actions:_,mutations:g},w=n("KgNB"),C=s(w,"store");o["a"].use(h["a"]);var b=new h["a"].Store(f()({},y,{modules:f()({},C)})),x=n("cp0u"),k=n.n(x),$=n("ommR"),S=n.n($),O={data:function(){return{currentScrollY:0,lastScrollY:0,elemHeight:0,state:"pinned"}},mounted:function(){this.initHeader()},watch:{state:function(t){var e=this.$el.classList;"unpinned"===t?e.add("-hidden"):e.remove("-hidden")}},methods:{_handleScroll:function(){S()(this.update)},_getScrollY:function(){var t;return t=void 0!==window.pageYOffset?window.pageYOffset:void 0!==window.scrollTop?window.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop,t},initHeader:function(){this.elemHeight=this.$el.offsetHeight,this._handleScroll(),window.addEventListener("scroll",k.a.throttle(this._handleScroll,50))},checkActions:function(){var t,e=this.currentScrollY>=this.lastScrollY?"down":"up",n=Math.abs(this.currentScrollY-this.lastScrollY);return t=this.currentScrollY<=0&&"unfixed"!==this.state?"unfix":this.currentScrollY<=this.elemHeight&&"down"===e&&"unfixed"===this.state?"none":"down"===e&&["pinned","unfixed"].indexOf(this.state)>=0&&this.currentScrollY>this.elemHeight+0&&n>0?"unpin":"up"===e&&n>5&&["pinned","unfixed"].indexOf(this.state)<0?"pin":"up"===e&&this.currentScrollY<=this.elemHeight&&["pinned","unfixed"].indexOf(this.state)<0?"pin":"none",t},update:function(){this.currentScrollY=this._getScrollY();var t=this.checkActions();switch(t){case"pin":this.state="pinned";break;case"unpin":this.state="unpinned";break;case"unfix":this.state="unfixed";break}this.lastScrollY=this.currentScrollY}}},j={name:"headerBar",mixins:[O],props:["author"],methods:{click:function(){this.$emit("avatarClick")}}},Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header-container"},[n("img",{staticClass:"header-container__avater",attrs:{alt:"avatar",draggable:"false",src:t.author.avatar},on:{click:t.click}})])},E=[],F=n("XyMi");function H(t){n("XzuS")}var M=!1,N=H,T=null,P=null,Q=Object(F["a"])(j,Y,E,M,N,T,P),W=Q.exports,z=W,A=n("rxKx"),B=n.n(A),U=new B.a(document),V={name:"navMenu",props:["nav"],data:function(){return{index:this.nav[0].column}},computed:{categorys:function(){var t=this;return this.nav.filter(function(e){return e.column===t.index})[0].categorys}},methods:{getIndex:function(t){this.index=t},handleClickOutside:function(t){this.$el.contains(t.target)?"A"!==t.target.nodeName&&this.$emit("outsideClick"):"avatar"!==t.target.alt&&this.$emit("outsideClick")}},mounted:function(){U.on("tap",this.handleClickOutside)},destroyed:function(){U.off("tap",this.handleClickOutside)}},X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"nav-bar"},[t.nav?[n("ul",{staticClass:"nav-bar__menu"},t._l(t.nav,function(e,o){return n("li",{key:o,staticClass:"nav-bar__item"},[n("a",{attrs:{href:"#"+e.column},on:{click:function(n){t.getIndex(e.column)}}},[t._v("\n                    "+t._s(e.column)+"\n                ")])])})),n("div",{staticClass:"nav-bar__category"},[t._l(t.categorys,function(e,o){return[n("section",{key:o+e.category},[n("p",{staticClass:"nav-bar__type"},[t._v("\n                "+t._s(e.category)),n("br")]),t._l(e.items,function(o,a){return[n("router-link",{key:a,staticClass:"nav-bar__title",attrs:{to:{name:t.index.toLowerCase(),params:{pre:e["category"],title:o["title"]}},title:o["title"]}},[t._v(t._s(o["title"])+"\n                ")])]})],2)]})],2)]:[t._t("empty")]],2)},L=[];function G(t){n("GU3l")}var K=!1,q=G,I=null,J=null,R=Object(F["a"])(V,X,L,K,q,I,J),D=R.exports,Z=D,tt={name:"app",computed:{author:function(){return this.$store.state.author},nav:function(){return this.$store.state.nav},isFocus:function(){return this.$store.state.isFocus}},methods:{toggleFocus:function(){this.$store.commit("toggleFocus")}},created:function(){this.$store.dispatch("getNav")},components:{headerBar:z,navMenu:Z}},et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("header-bar",{attrs:{author:t.author},on:{avatarClick:t.toggleFocus}}),t.isFocus?n("nav-menu",{attrs:{nav:t.nav},on:{outsideClick:t.toggleFocus}},[n("p",{attrs:{slot:"empty"},slot:"empty"},[t._v("暂无内容")])]):t._e(),n("main",{class:{"-focus":t.isFocus}},[n("router-view")],1)],1)},nt=[];function ot(t){n("GE4O")}var at=!1,it=ot,rt=null,st=null,ct=Object(F["a"])(tt,et,nt,at,it,rt,st),ut=ct.exports;n("eSy0");o["a"].config.productionTip=!1,new o["a"]({router:l,store:b,render:function(t){return t(ut)}}).$mount("#app")},QQ0W:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("blVE"),a={content:""},i={},r={setContent:function(t,e){t.content=e}},s={getContent:function(t,e){t.dispatch;var n=t.commit;t.state;n("setContent",""),o["a"].get("./notes/".concat(e.params.pre,"-").concat(e.params.title,".html")).then(function(t){n("setContent",t.data)})}};e["default"]={namespace:"notes",namespaced:!0,state:a,getters:i,actions:s,mutations:r}},Qv58:function(t,e){},XzuS:function(t,e){},blVE:function(t,e,n){"use strict";var o=n("y9m4"),a=(n.n(o),n("/5sW"),n("mtWM")),i=n.n(a);i.a.defaults.headers={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},i.a.interceptors.request.use(function(t){return t},function(t){return Promise.reject(t)}),i.a.interceptors.response.use(function(t){return t},function(t){return Promise.reject(t)}),e["a"]=i.a},c0uz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o='\n    <div class="loading-wrap">\n        <div></div>\n        <div></div>\n    </div>\n',a=o,i=function(t){return{watch:{$route:function(e){this.$store.dispatch("".concat(t,"/getContent"),e)}},computed:{content:function(){return console.log("change"),this.$store.state[t].content||a}},mounted:function(){this.$store.dispatch("".concat(t,"/getContent"),this.$route)}}},r=i,s="articles",c={path:"/".concat(s,"/:pre/:title"),name:"".concat(s),mixins:[r("".concat(s))],data:function(){return{}}},u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",{staticClass:"content -article",domProps:{innerHTML:t._s(t.content)}})},l=[],d=n("XyMi");function f(t){n("AgWz")}var h=!1,p=f,m=null,v=null,g=Object(d["a"])(c,u,l,h,p,m,v);e["default"]=g.exports},eSy0:function(t,e){},lS8V:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("blVE"),a={content:""},i={},r={setContent:function(t,e){t.content=e}},s={getContent:function(t,e){t.dispatch;var n=t.commit;t.state;n("setTitle",e.params.title,{root:!0}),n("setContent",""),o["a"].get("./articles/".concat(e.params.pre,"-").concat(e.params.title,".html")).then(function(t){n("setContent",t.data)})}};e["default"]={namespace:"articles",namespaced:!0,state:a,getters:i,actions:s,mutations:r}}},[0]);
//# sourceMappingURL=app.f13f9e98.js.map